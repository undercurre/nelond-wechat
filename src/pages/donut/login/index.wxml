<view class="-z-1 fixed left-0 top-0 w-100vw h-100vh">
  <image
    src="{{defaultImgDir}}/bg-login.png"
    class="w-100vw h-100vh"
  ></image>
</view>

<nav-bar
  left-arrow
  bind:leftTap="goBack"
></nav-bar>
<view
  class="flex-col-center w-750rpx"
  style="margin-top: {{marginTop}}px;"
>
  <image
    class="w-144rpx h-144rpx"
    src="/assets/img/login/logo.png"
  ></image>
  <text
    class="text-48rpx font-semibold mt-48rpx ml-12rpx"
    style="letter-spacing: 8.8rpx"
    >美的商照</text
  >
</view>

<view class="grow px-32rpx pt-100rpx">
  <van-field
    model:value="{{ mobilePhone }}"
    placeholder="请输入手机号"
    type="number"
    maxlength="11"
    custom-style="margin-bottom: 32rpx;margin-top: 40rpx;padding: 32rpx 32rpx;border-radius: 24rpx;"
    clearable="{{true}}"
    border="{{false}}"
  >
  </van-field>

  <van-field
    model:value="{{ pw }}"
    placeholder="请输入密码"
    password="{{!isShowPw}}"
    custom-style="padding: 24rpx 32rpx;border-radius: 24rpx;"
    use-button-slot
    border="{{false}}"
    clearable
  >
    <van-button
      slot="button"
      bind:click="togglePw"
      custom-style="border: 0;"
      type="default"
      plain
    >
      <svg-icon
        name="icon-park-outline:preview-{{!isShowPw ? 'close-one' : 'open'}}"
        color="#555659"
        height="56rpx"
      ></svg-icon>
    </van-button>
  </van-field>

  <include src="./agree.wxml" />

  <view class="flex flex-col mt-32rpx">
    <van-button
      block
      type="primary"
      size="large"
      bind:click="toLogin"
      disabled="{{!isAgree || !mobilePhone || !pw}}"
      >App 登录</van-button
    >
  </view>
</view>

<van-toast id="van-toast" />
